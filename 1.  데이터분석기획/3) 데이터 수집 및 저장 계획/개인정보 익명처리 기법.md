# 개인정보 익명처리 기법: 일반화, 섭동, 치환

## 개요

익명처리는 개인을 식별할 수 있는 정보를 제거하거나 변형하여, 특정 개인을 알아볼 수 없도록 하는 기술입니다. 주요 기법인 일반화, 섭동, 치환을 실제 데이터 예시로 살펴보겠습니다.

## 원본 데이터 예시 📊

병원에서 수집한 환자 데이터를 가정해보겠습니다:

| 이름 | 나이 | 성별 | 우편번호 | 연봉 | 질병명 |
|------|------|------|----------|------|--------|
| 김철수 | 34 | 남 | 06035 | 4,500만원 | 고혈압 |
| 이영희 | 28 | 여 | 06036 | 3,200만원 | 당뇨 |
| 박민수 | 45 | 남 | 06037 | 6,800만원 | 고지혈증 |
| 최지영 | 52 | 여 | 06038 | 5,400만원 | 고혈압 |
| 정대호 | 39 | 남 | 06039 | 4,100만원 | 당뇨 |

---

## 1. 일반화(Generalization) 📈

### 정의
**구체적인 값을 더 일반적이고 포괄적인 범주로 변환**하는 기법

### 적용 원리
- 연속형 데이터 → 범위로 변환
- 세부 카테고리 → 상위 카테고리로 변환
- 정확한 값 → 구간값으로 변환

### 실제 적용 예시

#### 🎂 나이 일반화
```
원본 나이 → 일반화된 연령대
34세 → 30-39세
28세 → 20-29세  
45세 → 40-49세
52세 → 50-59세
39세 → 30-39세
```

#### 💰 연봉 일반화
```
원본 연봉 → 일반화된 소득구간
4,500만원 → 4,000-5,000만원
3,200만원 → 3,000-4,000만원
6,800만원 → 6,000-7,000만원
5,400만원 → 5,000-6,000만원
4,100만원 → 4,000-5,000만원
```

#### 📍 우편번호 일반화
```
세부 우편번호 → 지역 단위
06035 → 강남구
06036 → 강남구
06037 → 강남구  
06038 → 강남구
06039 → 강남구
```

### 일반화 적용 결과

| ID | 연령대 | 성별 | 지역 | 소득구간 | 질병명 |
|----|--------|------|------|----------|--------|
| 1 | 30-39세 | 남 | 강남구 | 4,000-5,000만원 | 고혈압 |
| 2 | 20-29세 | 여 | 강남구 | 3,000-4,000만원 | 당뇨 |
| 3 | 40-49세 | 남 | 강남구 | 6,000-7,000만원 | 고지혈증 |
| 4 | 50-59세 | 여 | 강남구 | 5,000-6,000만원 | 고혈압 |
| 5 | 30-39세 | 남 | 강남구 | 4,000-5,000만원 | 당뇨 |

### 일반화의 장단점

**✅ 장점:**
- 데이터의 전체적인 분포와 패턴 유지
- 통계 분석에 여전히 유용
- 이해하기 쉬운 방법

**❌ 단점:**
- 데이터의 정밀도 손실
- 과도한 일반화 시 분석 가치 저하
- 여전히 재식별 위험 존재 가능

---

## 2. 섭동(Perturbation) 🌊

### 정의
**원본 데이터에 노이즈(잡음)을 추가하거나 약간의 변형을 가해** 개인 식별을 어렵게 하는 기법

### 적용 원리
- 수치형 데이터에 랜덤 노이즈 추가
- 일정 범위 내에서 값을 무작위로 변경
- 통계적 특성은 유지하면서 개별 값은 변형

### 실제 적용 예시

#### 💰 연봉 섭동 (±10% 범위 내 랜덤 변경)
```
원본 연봉 → 섭동 적용 → 변경된 연봉
4,500만원 → +7% 적용 → 4,815만원
3,200만원 → -4% 적용 → 3,072만원
6,800만원 → +9% 적용 → 7,412만원  
5,400만원 → -6% 적용 → 5,076만원
4,100만원 → +3% 적용 → 4,223만원
```

#### 🎂 나이 섭동 (±3세 범위 내 랜덤 변경)
```
원본 나이 → 섭동 적용 → 변경된 나이
34세 → +2세 → 36세
28세 → -1세 → 27세
45세 → +3세 → 48세
52세 → -2세 → 50세  
39세 → +1세 → 40세
```

#### 📍 우편번호 섭동 (인근 지역으로 변경)
```
원본 우편번호 → 섭동 적용 → 변경된 우편번호
06035 → 06041 (인근 지역)
06036 → 06033 (인근 지역)
06037 → 06042 (인근 지역)
06038 → 06034 (인근 지역)
06039 → 06040 (인근 지역)
```

### 섭동 적용 결과

| ID | 나이 | 성별 | 우편번호 | 연봉 | 질병명 |
|----|------|------|----------|------|--------|
| 1 | 36 | 남 | 06041 | 4,815만원 | 고혈압 |
| 2 | 27 | 여 | 06033 | 3,072만원 | 당뇨 |
| 3 | 48 | 남 | 06042 | 7,412만원 | 고지혈증 |
| 4 | 50 | 여 | 06034 | 5,076만원 | 고혈압 |
| 5 | 40 | 남 | 06040 | 4,223만원 | 당뇨 |

### 섭동의 장단점

**✅ 장점:**
- 데이터의 상세함 어느 정도 유지
- 통계적 분포 특성 보존
- 유연한 프라이버시 수준 조절 가능

**❌ 단점:**
- 노이즈로 인한 분석 결과 왜곡 가능
- 적절한 섭동 수준 결정의 어려움
- 여러 데이터셋 결합 시 재식별 위험

---

## 3. 치환(Substitution) 🔄

### 정의
**원본 데이터를 완전히 다른 값으로 대체**하되, 전체 데이터의 분포나 특성은 유지하는 기법

### 적용 원리
- 실제 값을 가상의 값으로 완전 대체
- 데이터 간 상대적 관계는 보존
- 통계적 특성은 유지하면서 실제 값은 완전 변경

### 실제 적용 예시

#### 👤 이름 치환 (가명으로 완전 대체)
```
원본 이름 → 치환 적용 → 가명
김철수 → 홍길동
이영희 → 김영자  
박민수 → 이철수
최지영 → 박순희
정대호 → 최민호
```

#### 📍 우편번호 치환 (동일 지역 내 다른 우편번호로 대체)
```
원본 우편번호 → 치환 적용 → 대체 우편번호
06035 → 06101 (같은 구 내 다른 동)
06036 → 06102 (같은 구 내 다른 동)
06037 → 06103 (같은 구 내 다른 동)
06038 → 06104 (같은 구 내 다른 동)
06039 → 06105 (같은 구 내 다른 동)
```

#### 💰 연봉 치환 (동일 구간 내 다른 값으로 대체)
```
원본 연봉 → 치환 적용 → 대체 연봉
4,500만원 → 4,300만원 (유사 수준)
3,200만원 → 3,400만원 (유사 수준)  
6,800만원 → 6,600만원 (유사 수준)
5,400만원 → 5,600만원 (유사 수준)
4,100만원 → 4,200만원 (유사 수준)
```

### 치환 적용 결과

| ID | 이름 | 나이 | 성별 | 우편번호 | 연봉 | 질병명 |
|----|------|------|------|----------|------|--------|
| 1 | 홍길동 | 34 | 남 | 06101 | 4,300만원 | 고혈압 |
| 2 | 김영자 | 28 | 여 | 06102 | 3,400만원 | 당뇨 |
| 3 | 이철수 | 45 | 남 | 06103 | 6,600만원 | 고지혈증 |
| 4 | 박순희 | 52 | 여 | 06104 | 5,600만원 | 고혈압 |
| 5 | 최민호 | 39 | 남 | 06105 | 4,200만원 | 당뇨 |

### 치환의 장단점

**✅ 장점:**
- 원본과의 연결 완전 차단
- 높은 프라이버시 보호 수준
- 실제와 유사한 데이터 형태 유지

**❌ 단점:**
- 원본 데이터와의 정확한 일치성 손실
- 치환 규칙 설계의 복잡성
- 일관성 있는 치환 체계 구축 필요

---

## 기법별 비교 및 활용 시나리오 📋

### 비교 표

| 구분 | 일반화 | 섭동 | 치환 |
|------|--------|------|------|
| **프라이버시 보호 수준** | 중간 | 중간-높음 | 높음 |
| **데이터 정밀도** | 낮음 | 중간 | 중간 |
| **통계적 유용성** | 높음 | 높음 | 중간-높음 |
| **구현 복잡도** | 낮음 | 중간 | 높음 |
| **적용 데이터 타입** | 수치형, 범주형 | 주로 수치형 | 모든 타입 |

### 활용 시나리오

#### 🏥 의료 데이터 공유
```
목적: 의료 연구를 위한 환자 데이터 제공
적용 기법:
- 이름 → 치환 (완전한 가명 처리)
- 나이 → 일반화 (연령대로 변환)
- 진료비 → 섭동 (±5% 범위 내 변경)
- 주소 → 일반화 (시/구 단위로)
```

#### 🛒 쇼핑몰 구매 분석
```
목적: 고객 구매 패턴 분석을 위한 데이터 활용
적용 기법:
- 고객명 → 치환 (고객ID로 대체)
- 구매금액 → 섭동 (소액 노이즈 추가)
- 나이 → 일반화 (연령대 그룹)
- 주소 → 일반화 (지역 단위)
```

#### 🎓 교육 데이터 연구
```
목적: 학습 성과 분석을 위한 학생 데이터 제공
적용 기법:
- 학생명 → 치환 (학번으로 변경)
- 성적 → 섭동 (±2점 범위 내 조정)
- 연령 → 일반화 (학년별 그룹)
- 거주지 → 일반화 (시/도 단위)
```

## 복합 기법 적용 예시 🔧

실제로는 여러 기법을 조합하여 사용하는 경우가 많습니다:

### 종합 적용 결과

| ID | 연령대<br/>(일반화) | 성별 | 지역<br/>(일반화) | 연봉<br/>(섭동) | 질병코드<br/>(치환) |
|----|-------------------|------|-------------------|------------------|-------------------|
| A001 | 30대 | 남 | 강남구 | 4,815만원 | H001 |
| A002 | 20대 | 여 | 강남구 | 3,072만원 | D001 |
| A003 | 40대 | 남 | 강남구 | 7,412만원 | L001 |
| A004 | 50대 | 여 | 강남구 | 5,076만원 | H001 |
| A005 | 30대 | 남 | 강남구 | 4,223만원 | D001 |

## 주의사항 및 권고사항 ⚠️

### 1. k-익명성 확보
- 동일한 속성 조합을 가진 레코드가 최소 k개 이상 존재해야 함
- 위 예시에서는 k=2 수준 (30대 남성이 2명 존재)

### 2. 재식별 위험 평가
- 외부 데이터와의 결합 공격 가능성 검토
- 배경지식 공격에 대한 취약성 분석

### 3. 데이터 품질 관리
- 익명처리 후에도 분석 목적에 부합하는지 확인
- 통계적 편향이 발생하지 않는지 검증

### 4. 법적 요구사항 준수
- 개인정보보호법상 익명처리 기준 충족
- 가명정보와 익명정보의 구분 명확히

**결론**: 각 기법은 고유한 특성과 장단점이 있으므로, 데이터의 성격과 활용 목적에 따라 적절한 기법을 선택하거나 조합하여 사용해야 합니다.
