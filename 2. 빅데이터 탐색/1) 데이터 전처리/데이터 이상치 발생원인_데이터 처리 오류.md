# 데이터 이상치 발생원인_데이터 처리 오류
> 여러 개의 데이터를 추출하거나 조합할 때 발생하는 오류로 인한 이상치 예시

## 데이터 조인(Join) 오류

**잘못된 키 매핑으로 인한 오류**
- 고객 정보 테이블(customer_id: C001, 나이: 25)과 주문 테이블(customer_id: CO01, 주문금액: 100,000)을 조인할 때
- 키 형식 불일치로 인해 매칭이 안 되어 NULL 값이나 기본값(0, -1 등)이 들어가면서 이상치 발생
- 결과: 25세 고객의 주문금액이 0원으로 나타나거나, NULL 고객이 100,000원 주문한 것으로 기록

**중복 키로 인한 데이터 증폭**
- 사용자 테이블과 로그인 기록을 조인할 때, 한 사용자가 여러 번 로그인한 경우
- 1:N 관계에서 사용자 나이가 로그인 횟수만큼 중복 계산되어 평균 나이가 비정상적으로 높아짐

## 시간대 및 날짜 처리 오류

**서로 다른 시간대 데이터 조합**
- 한국 서버 로그(KST): 2024-01-01 09:00:00
- 미국 서버 로그(EST): 2024-01-01 19:00:00 (실제로는 같은 시간)
- 시간대 변환 없이 조합하면 10시간 차이가 나는 이상한 시퀀스 생성

**날짜 형식 불일치**
- 시스템A: MM/DD/YYYY (01/02/2024 = 1월 2일)
- 시스템B: DD/MM/YYYY (01/02/2024 = 2월 1일)
- 조합 시 같은 날짜가 다른 월로 해석되어 월별 집계에서 이상치 발생

## 단위 및 스케일 불일치

**측정 단위 혼재**
- 센서A: 온도를 섭씨(25°C)로 기록
- 센서B: 온도를 화씨(77°F)로 기록
- 단위 변환 없이 조합하면 77°C라는 비현실적인 온도 데이터 생성

**통화 단위 혼재**
- 한국 매출: 1,000,000원
- 미국 매출: 1,000달러
- 환율 적용 없이 합산하면 1,001,000이라는 의미 없는 수치 생성

## 데이터 범위 및 정의 차이

**연령 그룹 정의 차이**
- 시스템A: 청년층을 20-30세로 정의
- 시스템B: 청년층을 18-35세로 정의
- 두 시스템 데이터를 조합할 때 연령대별 통계에서 왜곡 발생

**매출 계산 기준 차이**
- 부서A: 세전 매출로 기록 (1,100,000원)
- 부서B: 세후 매출로 기록 (1,000,000원)
- 조합 시 같은 거래임에도 다른 금액으로 중복 계산

## 샘플링 주기 불일치

**데이터 수집 빈도 차이**
- 센서A: 1분마다 데이터 수집
- 센서B: 5분마다 데이터 수집
- 시계열 분석 시 센서A 데이터만 과도하게 반영되어 편향된 패턴 생성

## 인코딩 및 형식 오류

**문자 인코딩 차이**
- 시스템A: UTF-8로 한글 저장 ("김철수")
- 시스템B: EUC-KR로 한글 저장 ("김철수")
- 조합 시 문자가 깨져서 이름이 "�ǰ���"로 변환되고, 이를 숫자로 인식 시도하면 이상치 생성

**CSV 구분자 차이**
- 파일A: 쉼표(,) 구분자 사용
- 파일B: 세미콜론(;) 구분자 사용
- 잘못된 파싱으로 "1,000"이 두 개의 값(1, 000)으로 분리되거나 하나의 잘못된 값으로 인식

## 실제 비즈니스 예시

**전자상거래 통합 분석**
- 웹사이트 주문: 개당 가격으로 기록
- 모바일 앱 주문: 총 주문금액으로 기록
- 조합 시 단위 불일치로 평균 주문금액이 비현실적으로 계산됨

**금융 데이터 통합**
- 은행A: 잔고를 원 단위로 기록 (1,000,000)
- 은행B: 잔고를 천원 단위로 기록 (1,000)
- 조합 시 실제 같은 금액임에도 1000배 차이로 인식되어 이상치 생성

이러한 오류들을 방지하기 위해서는 데이터 조합 전에 스키마 검증, 단위 통일, 시간대 정규화, 인코딩 확인 등의 전처리 과정이 필수적입니다.
