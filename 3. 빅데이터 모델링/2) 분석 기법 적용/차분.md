# 차분
> 시계열 분석에서 **차분(differencing)**은 데이터를 더 잘 다루기 위해 꼭 필요한 핵심 기법

---

## 🔁 차분이란?

> **현재 값에서 이전 값을 빼는 것**  
> 예:  
> $$Y'_t = Y_t - Y_{t-1}$$  
> 이렇게 하면 **변화량**만 남게 돼.

---

## 🧠 차분의 주요 역할

### 1. **추세 제거**
- 데이터가 꾸준히 증가하거나 감소하는 경우, 그 **추세(trend)**를 없애줌
- 예: 매출이 매달 조금씩 오르는 경우 → 차분하면 "얼마나 올랐는지"만 남음

### 2. **정상성 확보**
- 많은 시계열 모델(ARIMA 등)은 **정상성(stationarity)**을 전제로 함
- 정상성 = 평균과 분산이 시간에 따라 일정함
- 차분을 통해 **비정상 시계열 → 정상 시계열**로 변환 가능

### 3. **계절성 제거**
- 예: 매년 12월에 매출이 급증하는 경우 → **12개월 차분**으로 계절 패턴 제거 가능

---

## 🔄 차분의 종류

| 종류 | 설명 | 목적 |
|------|------|------|
| **1차 차분** | 바로 이전 값과의 차이 | 선형 추세 제거 |
| **2차 차분** | 1차 차분을 다시 차분 | 곡선형 추세 제거 |
| **계절 차분** | 일정 주기 전 값과의 차이 | 계절성 제거 (예: 12개월 전) |

---

## 📊 예시로 이해해보자

원래 데이터:  
`Y = [100, 120, 140, 160, 180]` → 꾸준히 증가하는 추세

1차 차분:  
`Y' = [20, 20, 20, 20]` → 변화량만 남음, 추세 제거됨

---

## 💡 왜 중요할까?

- 차분을 통해 **모델이 더 정확하게 예측**할 수 있음
- 예측 후에는 **역차분(integration)**을 통해 원래 스케일로 복원 가능

---

시계열 분석에서 차분은 마치 **안개를 걷어내는 작업** 같다.
데이터 속에 숨겨진 진짜 패턴을 보기 위해 꼭 필요한 과정
